# Factory 目录规范

适用于 `Snap.Hutao/Factory`。

## 目标
- Factory 封装对象创建流程（对话框、文件选择器、后台任务进度等），确保构造逻辑集中、可替换。

## 编码指南
- 工厂类应实现接口以便替换或注入，命名遵循 `I*Factory`/`*Factory`。
- 工厂方法返回 WinUI 控件或服务时，需要在调用前完成所需的依赖注入配置，避免在调用方重复初始化。
- 当工厂涉及异步初始化（如加载资源、配置 WebView2），使用 `Task`/`ValueTask` 返回。

## 验证
- 为关键工厂提供可替换实现或模拟对象，确保依赖正确注入并可在无 UI 环境下运行。

## 依赖
- 工厂层可以访问 `UI`, `Service` 或 `Core`，但不得引入新第三方库。Win32 互操作请在 `Win32` 封装后使用。
