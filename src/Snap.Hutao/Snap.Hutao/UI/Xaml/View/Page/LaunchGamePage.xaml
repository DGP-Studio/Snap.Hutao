<shuxc:ScopedPage
    x:Class="Snap.Hutao.UI.Xaml.View.Page.LaunchGamePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cw="using:CommunityToolkit.WinUI"
    xmlns:cwc="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:mxi="using:Microsoft.Xaml.Interactivity"
    xmlns:shme="using:Snap.Hutao.Model.Entity"
    xmlns:shsg="using:Snap.Hutao.Service.Game"
    xmlns:shsgp="using:Snap.Hutao.Service.Game.PathAbstraction"
    xmlns:shux="using:Snap.Hutao.UI.Xaml"
    xmlns:shuxb="using:Snap.Hutao.UI.Xaml.Behavior"
    xmlns:shuxba="using:Snap.Hutao.UI.Xaml.Behavior.Action"
    xmlns:shuxc="using:Snap.Hutao.UI.Xaml.Control"
    xmlns:shuxci="using:Snap.Hutao.UI.Xaml.Control.Image"
    xmlns:shuxm="using:Snap.Hutao.UI.Xaml.Markup"
    xmlns:shvg="using:Snap.Hutao.ViewModel.Game"
    d:DataContext="{d:DesignInstance shvg:LaunchGameViewModel}"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    mc:Ignorable="d">

    <mxi:Interaction.Behaviors>
        <shuxb:InvokeCommandOnLoadedBehavior Command="{Binding LoadCommand}"/>
        <shuxb:InvokeCommandOnLoadedBehavior Command="{Binding GamePackageInstallViewModel.LoadCommand}"/>
    </mxi:Interaction.Behaviors>

    <Page.Resources>
        <shux:BindingProxy x:Key="BindingProxy" DataContext="{Binding}"/>

        <DataTemplate x:Key="GameAccountListTemplate" x:DataType="shme:GameAccount">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel
                    Grid.Column="0"
                    Margin="0,16"
                    VerticalAlignment="Center">
                    <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{Binding Name}"/>
                </StackPanel>
                <StackPanel
                    x:Name="ButtonPanel"
                    Grid.Column="1"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal">
                    <!--  ReSharper disable once Xaml.BindingWithContextNotResolved  -->
                    <Button
                        MinWidth="35.2"
                        Margin="4,8"
                        VerticalAlignment="Stretch"
                        Command="{Binding DataContext.ModifyGameAccountCommand, Source={StaticResource BindingProxy}}"
                        CommandParameter="{Binding}"
                        Content="&#xE8AC;"
                        FontFamily="{StaticResource SymbolThemeFontFamily}"
                        ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountRenameToolTip}"/>
                    <!--  ReSharper disable once Xaml.BindingWithContextNotResolved  -->
                    <Button
                        MinWidth="35.2"
                        Margin="4,8,0,8"
                        VerticalAlignment="Stretch"
                        Command="{Binding DataContext.RemoveGameAccountCommand, Source={StaticResource BindingProxy}}"
                        CommandParameter="{Binding}"
                        Content="&#xE74D;"
                        FontFamily="{StaticResource SymbolThemeFontFamily}"
                        ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountRemoveToolTip}"/>
                </StackPanel>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="GamePathEntryListTemplate" x:DataType="shsgp:GamePathEntry">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock
                    Grid.Column="0"
                    Padding="0,16"
                    VerticalAlignment="Center"
                    Text="{Binding Path}"/>
                <!--  ReSharper disable once Xaml.BindingWithContextNotResolved  -->
                <Button
                    Grid.Column="1"
                    MinWidth="48"
                    Margin="4,8,0,8"
                    VerticalAlignment="Stretch"
                    Command="{Binding DataContext.RemoveGamePathEntryCommand, Source={StaticResource BindingProxy}}"
                    CommandParameter="{Binding}"
                    Content="&#xE74D;"
                    FontFamily="{StaticResource SymbolThemeFontFamily}"
                    ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountRemoveToolTip}"/>
            </Grid>
        </DataTemplate>

        <shvg:AspectRatioComboBoxTemplateSelector x:Key="AspectRatioComboBoxTemplateSelector">
            <shvg:AspectRatioComboBoxTemplateSelector.ListTemplate>
                <DataTemplate x:DataType="shsg:AspectRatio">
                    <!--  ComboBoxItemThemePadding 11,5,11,7  -->
                    <Grid Margin="1,-1,-7,-3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock VerticalAlignment="Center" Text="{Binding}"/>
                        <!--  ReSharper disable once Xaml.BindingWithContextNotResolved  -->
                        <Button
                            Grid.Column="1"
                            MinWidth="32"
                            MinHeight="32"
                            Padding="0"
                            VerticalAlignment="Center"
                            Command="{Binding DataContext.RemoveAspectRatioCommand, Source={StaticResource BindingProxy}}"
                            CommandParameter="{Binding}"
                            Content="&#xE711;"
                            FontFamily="{ThemeResource SymbolThemeFontFamily}"
                            Style="{ThemeResource SettingButtonStyle}"/>
                    </Grid>
                </DataTemplate>
            </shvg:AspectRatioComboBoxTemplateSelector.ListTemplate>
        </shvg:AspectRatioComboBoxTemplateSelector>
    </Page.Resources>

    <shuxc:StandardView ShowCondition="{Binding GamePathEntryValid.Value, Mode=OneWay}" Style="{ThemeResource DefaultStandardViewStyle}">
        <shuxc:StandardView.EmptyContent>
            <Border
                Margin="128,0"
                Padding="16"
                VerticalAlignment="Center"
                Style="{ThemeResource AcrylicBorderCardStyle}">
                <StackPanel
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    Spacing="3">
                    <shuxci:CachedImage
                        Height="120"
                        MinWidth="{ThemeResource SettingsCardContentControlMinWidth}"
                        Source="{StaticResource UI_EmotionIcon445}"/>
                    <TextBlock
                        Margin="0,5,0,0"
                        HorizontalAlignment="Center"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        Text="{shuxm:ResourceString Name=ViewPageLaunchGameSelectGamePath}"/>
                    <TextBlock
                        Margin="0,5,0,21"
                        HorizontalAlignment="Center"
                        Foreground="{ThemeResource SystemErrorTextColor}"
                        Text="{shuxm:ResourceString Name=ViewPageLaunchGameSelectGamePathHint}"/>
                    <Border Style="{ThemeResource BorderCardStyle}" Visibility="{Binding LaunchOptions.GamePathEntries.Value.Length, Converter={StaticResource Int32ToVisibilityConverter}}">
                        <ListView
                            ItemTemplate="{StaticResource GamePathEntryListTemplate}"
                            ItemsSource="{Binding LaunchOptions.GamePathEntries.Value}"
                            SelectedItem="{Binding GamePathEntry.Value, Mode=TwoWay}"/>
                    </Border>
                    <cwc:SettingsCard
                        ActionIcon="{shuxm:FontIcon Glyph=&#xE76C;}"
                        ActionIconToolTip="{shuxm:ResourceString Name=ViewPageSettingSetGamePathAction}"
                        Command="{Binding PickGamePathCommand}"
                        Header="{shuxm:ResourceString Name=ViewPageSettingSetGamePathHeader}"
                        HeaderIcon="{shuxm:FontIcon Glyph=&#xE7FC;}"
                        IsClickEnabled="True">
                        <cwc:SettingsCard.Description>
                            <TextBlock Foreground="{ThemeResource SystemErrorTextColor}" Text="{shuxm:ResourceString Name=ViewPageSettingSetGamePathHint}"/>
                        </cwc:SettingsCard.Description>
                    </cwc:SettingsCard>
                    <cwc:SettingsCard
                        Padding="{ThemeResource SettingsExpanderItemHasIconPadding}"
                        Command="{Binding GamePackageInstallViewModel.StartCommand}"
                        Description="{Binding GamePackageInstallViewModel.RemoteVersionText}"
                        Header="{shuxm:ResourceString Name=ViewPageLaunchGamePackageOperationInstall}"
                        HeaderIcon="{shuxm:FontIcon Glyph={StaticResource FontIconContentCloudDownload}}"
                        IsClickEnabled="True"
                        IsEnabled="{shuxm:IsProcessElevated}">
                        <shuxc:Elevation Visibility="{shuxm:CollapsedWhenProcessElevated}"/>
                    </cwc:SettingsCard>
                </StackPanel>
            </Border>
        </shuxc:StandardView.EmptyContent>

        <Pivot Style="{ThemeResource CardPivotStyle}">
            <Pivot.RightHeader>
                <CommandBar DefaultLabelPosition="Right">
                    <CommandBar.Content>
                        <TextBlock
                            Margin="12,14,12,0"
                            VerticalAlignment="Center"
                            Text="{Binding LaunchStatusOptions.LaunchStatus.Description}"/>
                    </CommandBar.Content>
                    <AppBarButton
                        Command="{Binding OpenScreenshotFolderCommand}"
                        Icon="{shuxm:FontIcon Glyph=&#xED25;}"
                        Label="{shuxm:ResourceString Name=ViewPageOpenScreenshotFolderAction}"/>
                    <AppBarButton
                        Command="{Binding ResetGamePathCommand}"
                        Icon="{shuxm:FontIcon Glyph=&#xEBC4;}"
                        IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}"
                        Label="{shuxm:ResourceString Name=ViewPageResetGamePathAction}"
                        ToolTipService.ToolTip="{Binding DisplayGamePath.Value}"/>
                    <AppBarButton
                        Command="{Binding KillGameProcessCommand}"
                        Icon="{shuxm:FontIcon Glyph=&#xE733;}"
                        IsEnabled="{Binding LaunchOptions.CanKillGameProcess.Value}"
                        Label="{shuxm:ResourceString Name=ViewPageLaunchGameKillGameProcessAction}"/>
                    <AppBarButton
                        Command="{Binding LaunchCommand}"
                        Icon="{shuxm:FontIcon Glyph=&#xE7FC;}"
                        IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}"
                        Label="{shuxm:ResourceString Name=ViewPageLaunchGameAction}"/>
                </CommandBar>
            </Pivot.RightHeader>

            <PivotItem Header="{shuxm:ResourceString Name=ViewPageLaunchGameOptionsHeader}">
                <ScrollViewer>
                    <StackPanel Margin="16" Spacing="16">
                        <!--  需要管理员权限的操作  -->
                        <Border cw:Effects.Shadow="{ThemeResource CompatCardShadow}">
                            <Grid Style="{ThemeResource AcrylicGridCardStyle}">
                                <Grid
                                    Margin="16"
                                    ColumnSpacing="12"
                                    Visibility="{shuxm:VisibleWhenProcessElevated}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <!--  修复/更新/预下载  -->
                                    <StackPanel
                                        Grid.Column="0"
                                        VerticalAlignment="Top"
                                        Spacing="12">
                                        <Grid Style="{ThemeResource GridCardStyle}">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <StackPanel
                                                Padding="16"
                                                Background="{ThemeResource LayerOnAcrylicFillColorDefaultBrush}"
                                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                BorderThickness="0,0,0,1"
                                                Orientation="Horizontal"
                                                Spacing="16">
                                                <shuxci:CachedImage
                                                    shux:FrameworkElementHelper.SquareLength="48"
                                                    CornerRadius="{ThemeResource ControlCornerRadius}"
                                                    Source="{StaticResource IconGame}"/>
                                                <StackPanel
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical"
                                                    Spacing="{ThemeResource SettingsCardSpacing}">
                                                    <TextBlock Text="{Binding GamePackageViewModel.LocalVersionText}"/>
                                                    <TextBlock Text="{Binding GamePackageViewModel.RemoteVersionText}"/>
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="-2,-6"
                                                Padding="16"
                                                Orientation="Horizontal">
                                                <AppBarButton
                                                    Command="{Binding GamePackageViewModel.StartCommand}"
                                                    CommandParameter="Verify"
                                                    Icon="{shuxm:FontIcon Glyph={StaticResource FontIconContentDeveloperTools}}"
                                                    Label="{shuxm:ResourceString Name=ViewPageLaunchGamePackageOperationVerify}"
                                                    Style="{StaticResource DefaultAppBarButtonStyle}"/>
                                                <AppBarButton
                                                    Command="{Binding GamePackageViewModel.StartCommand}"
                                                    CommandParameter="Update"
                                                    Icon="{shuxm:FontIcon Glyph={StaticResource FontIconContentUpArrowShiftKey}}"
                                                    IsEnabled="{Binding GamePackageViewModel.IsUpdateAvailable}"
                                                    Label="{shuxm:ResourceString Name=ViewPageLaunchGamePackageOperationUpdate}"/>
                                                <Grid>
                                                    <AppBarButton
                                                        Command="{Binding GamePackageViewModel.StartCommand}"
                                                        CommandParameter="Predownload"
                                                        Icon="{shuxm:FontIcon Glyph={StaticResource FontIconContentDownload}}"
                                                        IsEnabled="{Binding GamePackageViewModel.IsPredownloadButtonEnabled}"
                                                        Label="{shuxm:ResourceString Name=ViewPageLaunchGamePackageOperationPredownload}"/>
                                                    <!--  预下载开放 Icon  -->
                                                    <Grid
                                                        Margin="4,8"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Top"
                                                        ToolTipService.ToolTip="{Binding GamePackageViewModel.PreVersionText}"
                                                        Visibility="{Binding GamePackageViewModel.IsPredownloadButtonEnabled, Converter={StaticResource BoolToVisibilityConverter}}">
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="{ThemeResource InfoBarInformationalSeverityIconBackground}"
                                                            Glyph="{ThemeResource InfoBarIconBackgroundGlyph}"/>
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="{ThemeResource InfoBarInformationalSeverityIconForeground}"
                                                            Glyph="{ThemeResource InfoBarInformationalIconGlyph}"/>
                                                    </Grid>
                                                    <!--  预下载完成 Icon  -->
                                                    <Grid
                                                        Margin="4,8"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGamePackageOperationPredownloadCompleteBadgeContent}"
                                                        Visibility="{Binding GamePackageViewModel.IsPredownloadFinished, Converter={StaticResource BoolToVisibilityConverter}}">
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="{ThemeResource InfoBarSuccessSeverityIconBackground}"
                                                            Glyph="{ThemeResource InfoBarIconBackgroundGlyph}"/>
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="{ThemeResource InfoBarSuccessSeverityIconForeground}"
                                                            Glyph="{ThemeResource InfoBarSuccessIconGlyph}"/>
                                                    </Grid>
                                                </Grid>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Spacing="12">
                                        <!--  切换服务器  -->
                                        <cwc:SettingsCard
                                            VerticalAlignment="Top"
                                            Description="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchSchemeDescription}"
                                            Header="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchSchemeHeader}"
                                            HeaderIcon="{shuxm:FontIcon Glyph=&#xE8AB;}">
                                            <StackPanel Orientation="Horizontal" Spacing="{ThemeResource SettingsCardContentControlSpacing}">
                                                <Button
                                                    Command="{Binding ConvertCommand}"
                                                    Content="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchSchemeAction}"
                                                    Style="{ThemeResource SettingButtonStyle}"/>
                                                <shuxc:SizeRestrictedContentControl>
                                                    <shuxc:ComboBox2
                                                        DisplayMemberPath="DisplayName"
                                                        EnableMemberPath="IsNotCompatOnly"
                                                        IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}"
                                                        ItemsSource="{Binding KnownSchemes}"
                                                        SelectedItem="{Binding TargetSchemeFilteredGameAccountsView.Scheme, Mode=TwoWay}"
                                                        Style="{StaticResource DefaultComboBoxStyle}"/>
                                                </shuxc:SizeRestrictedContentControl>
                                            </StackPanel>
                                        </cwc:SettingsCard>
                                        <!--  悬浮窗  -->
                                        <ScrollViewer>
                                            <cwc:SettingsExpander
                                                shuxc:SettingsExpanderHelper.IsItemsEnabled="{Binding LaunchOptions.UsingOverlay.Value}"
                                                Description="{shuxm:ResourceString Name=ViewPageLaunchGameOverlayDescription}"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameOverlayHeader}"
                                                HeaderIcon="{shuxm:FontIcon Glyph=&#xEB91;}"
                                                IsExpanded="True">
                                                <ToggleSwitch IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}" IsOn="{Binding LaunchOptions.UsingOverlay.Value, Mode=TwoWay}"/>
                                                <cwc:SettingsExpander.Items>
                                                    <cwc:SettingsCard
                                                        Padding="{ThemeResource SettingsCardAlignSettingsExpanderPadding}"
                                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGameOverlayHideDescription}"
                                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGameOverlayHideHeader}"
                                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xED1A;}">
                                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                                            <shuxc:SizeRestrictedContentControl VerticalAlignment="Center">
                                                                <ComboBox
                                                                    MinWidth="120"
                                                                    VerticalAlignment="Center"
                                                                    DisplayMemberPath="Name"
                                                                    ItemsSource="{Binding LowLevelKeyOptions.VirtualKeys}"
                                                                    SelectedItem="{Binding LowLevelKeyOptions.OverlayHideKey, Mode=TwoWay}"/>
                                                            </shuxc:SizeRestrictedContentControl>
                                                        </StackPanel>
                                                    </cwc:SettingsCard>
                                                </cwc:SettingsExpander.Items>
                                            </cwc:SettingsExpander>
                                        </ScrollViewer>
                                    </StackPanel>
                                </Grid>
                                <Border
                                    Grid.RowSpan="2"
                                    Padding="32"
                                    Visibility="{shuxm:CollapsedWhenProcessElevated}">
                                    <StackPanel HorizontalAlignment="Center">
                                        <shuxc:Elevation HorizontalAlignment="Center" IsHitTestVisible="False"/>
                                        <TextBlock
                                            Margin="0,16,0,0"
                                            HorizontalAlignment="Center"
                                            Text="{shuxm:ResourceString Name=ViewPageLaunchGameElevationDescription}"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Border>

                        <!--  账户操作  -->
                        <Border Padding="0" cw:Effects.Shadow="{ThemeResource CompatCardShadow}">
                            <Border Padding="16" Style="{ThemeResource AcrylicBorderCardStyle}">
                                <StackPanel Spacing="{ThemeResource SettingsCardSpacing}">
                                    <cwc:SettingsCard
                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGameUseHoyolabAccountDescription}"
                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGameUseHoyolabAccountHeader}"
                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xE748;}"
                                        IsEnabled="{Binding LaunchOptions.AreCommandLineArgumentsEnabled.Value}">
                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.UsingHoyolabAccount.Value, Mode=TwoWay}"/>
                                    </cwc:SettingsCard>
                                    <cwc:SettingsCard
                                        ActionIconToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountDetectAction}"
                                        Command="{Binding DetectGameAccountCommand}"
                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountDescription}"
                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGameSwitchAccountHeader}"
                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xE748;}"
                                        IsClickEnabled="True"
                                        IsEnabled="{Binding LaunchOptions.UsingHoyolabAccount.Value, Converter={StaticResource BoolNegationConverter}}"/>
                                    <Border Style="{StaticResource BorderCardStyle}" Visibility="{Binding TargetSchemeFilteredGameAccountsView.View.Count, Converter={StaticResource Int32ToVisibilityConverter}}">
                                        <ListView
                                            Padding="{StaticResource ListViewInSplitPanePadding}"
                                            AllowDrop="{shuxm:IsProcessNotElevated}"
                                            CanReorderItems="{shuxm:IsProcessNotElevated}"
                                            IsEnabled="{Binding LaunchOptions.UsingHoyolabAccount.Value, Converter={StaticResource BoolNegationConverter}}"
                                            ItemTemplate="{StaticResource GameAccountListTemplate}"
                                            ItemsSource="{Binding TargetSchemeFilteredGameAccountsView.View}"
                                            SelectedItem="{Binding TargetSchemeFilteredGameAccountsView.View.CurrentItem, Mode=TwoWay}">
                                            <ListView.Header>
                                                <InfoBar
                                                    Title="{shuxm:ResourceString Name=ViewListViewDragElevatedHint}"
                                                    Margin="4,2,4,2"
                                                    IsClosable="True"
                                                    IsOpen="True"
                                                    Severity="Warning"
                                                    Visibility="{shuxm:VisibleWhenProcessElevated}"/>
                                            </ListView.Header>
                                        </ListView>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </Border>

                        <!--  进程  -->
                        <Border Padding="0" cw:Effects.Shadow="{ThemeResource CompatCardShadow}">
                            <Border Padding="16" Style="{ThemeResource AcrylicBorderCardStyle}">
                                <StackPanel Spacing="{ThemeResource SettingsCardSpacing}">
                                    <cwc:SettingsCard
                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGameWindowsHDRDescription}"
                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGameWindowsHDRHeader}"
                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xE7F7;}">
                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsWindowsHDREnabled.Value, Mode=TwoWay}"/>
                                    </cwc:SettingsCard>
                                    <ScrollViewer>
                                        <cwc:SettingsExpander
                                            shuxc:SettingsExpanderHelper.IsItemsEnabled="{Binding LaunchOptions.AreCommandLineArgumentsEnabled.Value}"
                                            Description="{shuxm:ResourceString Name=ViewPageLaunchGameArgumentsDescription}"
                                            Header="{shuxm:ResourceString Name=ViewPageLaunchGameArgumentsHeader}"
                                            HeaderIcon="{shuxm:FontIcon Glyph=&#xE943;}"
                                            IsExpanded="True">
                                            <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.AreCommandLineArgumentsEnabled.Value, Mode=TwoWay}"/>
                                            <cwc:SettingsExpander.Items>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceExclusiveDescription}" Header="-window-mode exclusive">
                                                    <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsExclusive.Value, Mode=TwoWay}"/>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceFullscreenDescription}" Header="-screen-fullscreen">
                                                    <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsFullScreen.Value, Mode=TwoWay}"/>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceBorderlessDescription}" Header="-popupwindow">
                                                    <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsBorderless.Value, Mode=TwoWay}"/>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearancePlatformTypeDescription}" Header="-platform_type">
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <shuxc:SizeRestrictedContentControl VerticalAlignment="Center">
                                                            <ComboBox
                                                                MinWidth="{ThemeResource SettingsCardContentControlMinWidth2}"
                                                                DisplayMemberPath="Name"
                                                                IsEnabled="{Binding LaunchOptions.IsPlatformTypeEnabled.Value}"
                                                                ItemsSource="{Binding LaunchOptions.PlatformTypes}"
                                                                SelectedItem="{Binding SelectedPlatformType.Value, Mode=TwoWay}"/>
                                                        </shuxc:SizeRestrictedContentControl>
                                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsPlatformTypeEnabled.Value, Mode=TwoWay}"/>
                                                    </StackPanel>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceAspectRatioDescription}" Header="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceAspectRatioHeader}">
                                                    <shuxc:SizeRestrictedContentControl Margin="0,0,130,0" VerticalAlignment="Center">
                                                        <ComboBox
                                                            MinWidth="{ThemeResource SettingsCardContentControlMinWidth2}"
                                                            ItemTemplateSelector="{StaticResource AspectRatioComboBoxTemplateSelector}"
                                                            ItemsSource="{Binding LaunchOptions.AspectRatios.Value}"
                                                            PlaceholderText="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceAspectRatioPlaceHolder}"
                                                            SelectedItem="{Binding LaunchOptions.SelectedAspectRatio, Mode=TwoWay}"
                                                            Style="{ThemeResource DefaultComboBoxStyle}"/>
                                                    </shuxc:SizeRestrictedContentControl>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceScreenWidthDescription}" Header="-screen-width">
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <NumberBox
                                                            MinWidth="{ThemeResource SettingsCardContentControlMinWidth2}"
                                                            Padding="12,6,0,0"
                                                            VerticalAlignment="Center"
                                                            IsEnabled="{Binding LaunchOptions.IsScreenWidthEnabled.Value}"
                                                            Value="{Binding LaunchOptions.ScreenWidth.Value, Mode=TwoWay}"/>
                                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsScreenWidthEnabled.Value, Mode=TwoWay}"/>
                                                    </StackPanel>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameAppearanceScreenHeightDescription}" Header="-screen-height">
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <NumberBox
                                                            MinWidth="{ThemeResource SettingsCardContentControlMinWidth2}"
                                                            Padding="12,6,0,0"
                                                            VerticalAlignment="Center"
                                                            IsEnabled="{Binding LaunchOptions.IsScreenHeightEnabled.Value}"
                                                            Value="{Binding LaunchOptions.ScreenHeight.Value, Mode=TwoWay}"/>
                                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsScreenHeightEnabled.Value, Mode=TwoWay}"/>
                                                    </StackPanel>
                                                </cwc:SettingsCard>
                                                <cwc:SettingsCard Description="{shuxm:ResourceString Name=ViewPageLaunchGameMonitorsDescription}" Header="-monitor">
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <Button
                                                            MinWidth="{ThemeResource SettingsCardContentControlMinWidth}"
                                                            Command="{Binding IdentifyMonitorsCommand}"
                                                            Content="{shuxm:ResourceString Name=ViewModelLaunchGameIdentifyMonitorsAction}"/>
                                                        <shuxc:SizeRestrictedContentControl VerticalAlignment="Center">
                                                            <ComboBox
                                                                MinWidth="{ThemeResource SettingsCardContentControlMinWidth2}"
                                                                DisplayMemberPath="Name"
                                                                IsEnabled="{Binding LaunchOptions.IsMonitorEnabled.Value}"
                                                                ItemsSource="{Binding LaunchOptions.Monitors}"
                                                                SelectedItem="{Binding LaunchOptions.Monitor.Value, Mode=TwoWay}"/>
                                                        </shuxc:SizeRestrictedContentControl>
                                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.IsMonitorEnabled.Value, Mode=TwoWay}"/>
                                                    </StackPanel>
                                                </cwc:SettingsCard>
                                            </cwc:SettingsExpander.Items>
                                        </cwc:SettingsExpander>
                                    </ScrollViewer>
                                </StackPanel>
                            </Border>
                        </Border>

                        <!--  联动  -->
                        <Border Padding="0" cw:Effects.Shadow="{ThemeResource CompatCardShadow}">
                            <Border Padding="16" Style="{ThemeResource AcrylicBorderCardStyle}">
                                <StackPanel Spacing="{ThemeResource SettingsCardSpacing}">
                                    <cwc:SettingsCard
                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGameBetterGIDescription}"
                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGameBetterGIHeader}"
                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xE961;}">
                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.UsingBetterGenshinImpactAutomation.Value, Mode=TwoWay}"/>
                                    </cwc:SettingsCard>
                                    <cwc:SettingsCard
                                        Description="{shuxm:ResourceString Name=ViewPageLaunchGamePlayTimeDescription}"
                                        Header="{shuxm:ResourceString Name=ViewPageLaunchGamePlayTimeHeader}"
                                        HeaderIcon="{shuxm:FontIcon Glyph=&#xEC92;}">
                                        <ToggleSwitch MinWidth="{ThemeResource SettingsCardContentControlMinWidth}" IsOn="{Binding LaunchOptions.UsingStarwardPlayTimeStatistics.Value, Mode=TwoWay}"/>
                                    </cwc:SettingsCard>
                                </StackPanel>
                            </Border>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>

            <PivotItem Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandOptionsHeader}" IsEnabled="{shuxm:IsProcessElevated}">
                <ScrollViewer>
                    <StackPanel Margin="16" Spacing="16">
                        <Border Padding="0" cw:Effects.Shadow="{ThemeResource CompatCardShadow}">
                            <Grid Style="{ThemeResource AcrylicGridCardStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <Grid
                                    Grid.Row="0"
                                    Padding="16,8"
                                    Background="{ThemeResource LayerOnAcrylicFillColorDefaultBrush}"
                                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                    BorderThickness="0,0,0,1"
                                    RowSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition Width="auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel VerticalAlignment="Center">
                                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{shuxm:ResourceString Name=ViewPageLaunchGameInjectionHeader}"/>
                                        <TextBlock
                                            Foreground="{ThemeResource SystemFillColorCriticalBrush}"
                                            Style="{StaticResource CaptionTextBlockStyle}"
                                            Text="{shuxm:ResourceString Name=ViewPageLaunchGameInjectionDescription}"/>
                                    </StackPanel>

                                    <ToggleSwitch
                                        Grid.Column="1"
                                        MinWidth="{ThemeResource SettingsCardContentControlMinWidth}"
                                        IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}"
                                        IsOn="{Binding LaunchOptions.IsIslandEnabled.Value, Mode=TwoWay}"
                                        Style="{ThemeResource RightAlignedCompactToggleSwitchStyle}"/>
                                </Grid>
                                <Border
                                    Grid.Row="1"
                                    Background="{ThemeResource InfoBarErrorSeverityBackgroundBrush}"
                                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                    BorderThickness="0,0,0,1">
                                    <TextBlock
                                        Margin="6"
                                        HorizontalAlignment="Center"
                                        Style="{ThemeResource CaptionTextBlockStyle}"
                                        Text="{shuxm:ResourceString Name=ViewPageLaunchGameDangerousDescriptionHint}"/>
                                </Border>
                                <ContentControl
                                    Grid.Row="2"
                                    HorizontalAlignment="Stretch"
                                    HorizontalContentAlignment="Stretch"
                                    IsEnabled="{Binding LaunchOptions.IsIslandEnabled.Value}">
                                    <Border
                                        Padding="16"
                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                        BorderThickness="0,0,0,1">
                                        <Grid ColumnSpacing="16" RowSpacing="16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                            </Grid.RowDefinitions>

                                            <ToggleSwitch
                                                Grid.Row="0"
                                                Grid.Column="0"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFovHotSwitchHeader}"
                                                IsOn="{Binding LaunchOptions.IsSetFieldOfViewEnabled.Value, Mode=TwoWay}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameHotSwitchDescription}"/>
                                            <NumberBox
                                                Grid.Row="0"
                                                Grid.Column="1"
                                                Padding="10,8,6,6"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFovHeader}"
                                                IsEnabled="{Binding LaunchOptions.IsSetFieldOfViewEnabled.Value}"
                                                LargeChange="10"
                                                Maximum="100"
                                                Minimum="0"
                                                SmallChange="1"
                                                SpinButtonPlacementMode="Inline"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFovDescription}"
                                                Value="{Binding LaunchOptions.TargetFov.Value, Mode=TwoWay}"/>
                                            <ToggleSwitch
                                                Grid.Row="0"
                                                Grid.Column="2"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogHeader}"
                                                IsEnabled="{Binding LaunchOptions.IsSetFieldOfViewEnabled}"
                                                IsOn="{Binding LaunchOptions.DisableFog.Value, Mode=TwoWay}"
                                                OffContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOff}"
                                                OnContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOn}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogDescription}"/>

                                            <ToggleSwitch
                                                x:Name="TargetFpsToggleSwitch"
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                IsOn="{Binding LaunchOptions.IsSetTargetFrameRateEnabled.Value, Mode=TwoWay}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameHotSwitchDescription}">
                                                <mxi:Interaction.Behaviors>
                                                    <shuxb:ToggleSwitchHeaderHitTestVisibleBehavior/>
                                                </mxi:Interaction.Behaviors>
                                                <ToggleSwitch.Header>
                                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                                        <TextBlock Text="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFpsHotSwitchHeader}"/>
                                                        <Button Padding="1,1,0.5,0.5" VerticalAlignment="Center">
                                                            <mxi:Interaction.Behaviors>
                                                                <mxi:EventTriggerBehavior EventName="Click">
                                                                    <mxi:EventTriggerBehavior.Actions>
                                                                        <shuxba:ShowTeachingTipAction TeachingTip="{x:Bind TargetFpsTeachingTip}"/>
                                                                    </mxi:EventTriggerBehavior.Actions>
                                                                </mxi:EventTriggerBehavior>
                                                            </mxi:Interaction.Behaviors>
                                                            <FontIcon
                                                                FontSize="12"
                                                                Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                                                                Glyph="&#xE946;"/>
                                                        </Button>
                                                    </StackPanel>
                                                </ToggleSwitch.Header>
                                            </ToggleSwitch>
                                            <TeachingTip
                                                x:Name="TargetFpsTeachingTip"
                                                Title="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFpsTeachingTipTitle}"
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                IsLightDismissEnabled="True"
                                                Subtitle="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFpsTeachingTipSubtitle}"
                                                Target="{x:Bind TargetFpsToggleSwitch}"/>

                                            <NumberBox
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Padding="10,8,6,6"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameTargetFpsHeader}"
                                                IsEnabled="{Binding LaunchOptions.IsSetTargetFrameRateEnabled.Value}"
                                                Maximum="720"
                                                Minimum="-1"
                                                SpinButtonPlacementMode="Inline"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameUnlockFpsDescription}"
                                                Value="{Binding LaunchOptions.TargetFps.Value, Mode=TwoWay}"/>
                                            <ToggleSwitch
                                                x:Name="FixLowFovSceneToggleSwitch"
                                                Grid.Row="1"
                                                Grid.Column="2"
                                                IsEnabled="{Binding LaunchOptions.IsSetFieldOfViewEnabled}"
                                                IsOn="{Binding LaunchOptions.FixLowFovScene.Value, Mode=TwoWay}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameFixLowFovSceneDescription}">
                                                <mxi:Interaction.Behaviors>
                                                    <shuxb:ToggleSwitchHeaderHitTestVisibleBehavior/>
                                                </mxi:Interaction.Behaviors>
                                                <ToggleSwitch.Header>
                                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                                        <TextBlock Text="{shuxm:ResourceString Name=ViewPageLaunchGameFixLowFovSceneHeader}"/>
                                                        <Button Padding="1,1,0.5,0.5" VerticalAlignment="Center">
                                                            <mxi:Interaction.Behaviors>
                                                                <mxi:EventTriggerBehavior EventName="Click">
                                                                    <mxi:EventTriggerBehavior.Actions>
                                                                        <shuxba:ShowTeachingTipAction TeachingTip="{x:Bind FixLowFovTeachingTip}"/>
                                                                    </mxi:EventTriggerBehavior.Actions>
                                                                </mxi:EventTriggerBehavior>
                                                            </mxi:Interaction.Behaviors>
                                                            <FontIcon
                                                                FontSize="12"
                                                                Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                                                                Glyph="&#xE946;"/>
                                                        </Button>
                                                    </StackPanel>
                                                </ToggleSwitch.Header>
                                            </ToggleSwitch>
                                            <TeachingTip
                                                x:Name="FixLowFovTeachingTip"
                                                Title="{shuxm:ResourceString Name=ViewPageLaunchGameFixLowFovSceneTeachingTipTitle}"
                                                Grid.Row="2"
                                                Grid.Column="0"
                                                IsLightDismissEnabled="True"
                                                Subtitle="{shuxm:ResourceString Name=ViewPageLaunchGameFixLowFovSceneTeachingTipSubtitle}"
                                                Target="{x:Bind FixLowFovSceneToggleSwitch}"/>

                                            <ToggleSwitch
                                                x:Name="HideQuestBannerToggleSwitch"
                                                Grid.Row="2"
                                                Grid.Column="0"
                                                IsOn="{Binding LaunchOptions.HideQuestBanner.Value, Mode=TwoWay}"
                                                OffContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOff}"
                                                OnContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOn}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameHotSwitchDescription}">
                                                <mxi:Interaction.Behaviors>
                                                    <shuxb:ToggleSwitchHeaderHitTestVisibleBehavior/>
                                                </mxi:Interaction.Behaviors>
                                                <ToggleSwitch.Header>
                                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                                        <TextBlock Text="{shuxm:ResourceString Name=ViewPageLaunchGameHideQuestBannerHotSwitchHeader}"/>
                                                        <Button Padding="1,1,0.5,0.5" VerticalAlignment="Center">
                                                            <mxi:Interaction.Behaviors>
                                                                <mxi:EventTriggerBehavior EventName="Click">
                                                                    <mxi:EventTriggerBehavior.Actions>
                                                                        <shuxba:ShowTeachingTipAction TeachingTip="{x:Bind HideQuestBannerTeachingTip}"/>
                                                                    </mxi:EventTriggerBehavior.Actions>
                                                                </mxi:EventTriggerBehavior>
                                                            </mxi:Interaction.Behaviors>
                                                            <FontIcon
                                                                FontSize="12"
                                                                Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                                                                Glyph="&#xE946;"/>
                                                        </Button>
                                                    </StackPanel>
                                                </ToggleSwitch.Header>
                                            </ToggleSwitch>
                                            <TeachingTip
                                                x:Name="HideQuestBannerTeachingTip"
                                                Title="{shuxm:ResourceString Name=ViewPageLaunchGameHideQuestBannerHotSwitchHeader}"
                                                Grid.Row="2"
                                                Grid.Column="0"
                                                IsLightDismissEnabled="True"
                                                Subtitle="{shuxm:ResourceString Name=ViewPageLaunchGameHideQuestBannerHotSwitchDescription}"
                                                Target="{x:Bind HideQuestBannerToggleSwitch}">
                                                <TeachingTip.HeroContent>
                                                    <Image Source="ms-appx:///Resource/TeachingTip/LaunchGameIslandHideQuestBanner.png"/>
                                                </TeachingTip.HeroContent>
                                            </TeachingTip>
                                            <ToggleSwitch
                                                Grid.Row="2"
                                                Grid.Column="1"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameRemoveOpenTeamProgressHeader}"
                                                IsOn="{Binding LaunchOptions.RemoveOpenTeamProgress.Value, Mode=TwoWay}"
                                                OffContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOff}"
                                                OnContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOn}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameRemoveOpenTeamProgressDescription}"/>
                                            <ToggleSwitch
                                                Grid.Row="2"
                                                Grid.Column="2"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameEventCameraMoveHotSwitchHeader}"
                                                IsOn="{Binding LaunchOptions.DisableEventCameraMove.Value, Mode=TwoWay}"
                                                OffContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOff}"
                                                OnContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOn}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameHotSwitchDescription}"/>

                                            <ToggleSwitch
                                                Grid.Row="3"
                                                Grid.Column="0"
                                                Header="{shuxm:ResourceString Name=ViewOverlayDisableShowDamageTextToolTip}"
                                                IsOn="{Binding LaunchOptions.DisableShowDamageText.Value, Mode=TwoWay}"
                                                OffContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOff}"
                                                OnContent="{shuxm:ResourceString Name=ViewPageLaunchGameDisableFogOn}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameHotSwitchDescription}"/>
                                            <ToggleSwitch
                                                x:Name="RedirectCombineEntryToggleSwitch"
                                                Grid.Row="3"
                                                Grid.Column="1"
                                                IsOn="{Binding LaunchOptions.RedirectCombineEntry.Value, Mode=TwoWay}"
                                                Style="{ThemeResource DefaultToggleSwitchStyle}"
                                                ToolTipService.ToolTip="{shuxm:ResourceString Name=ViewPageLaunchGameIslandRedirectCombineEntryDescription}">
                                                <mxi:Interaction.Behaviors>
                                                    <shuxb:ToggleSwitchHeaderHitTestVisibleBehavior/>
                                                </mxi:Interaction.Behaviors>
                                                <ToggleSwitch.Header>
                                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                                        <TextBlock Text="{shuxm:ResourceString Name=ViewPageLaunchGameIslandRedirectCombineEntryHeader}"/>
                                                        <Button
                                                            Padding="1,1,0.5,0.5"
                                                            HorizontalAlignment="Right"
                                                            VerticalAlignment="Center">
                                                            <mxi:Interaction.Behaviors>
                                                                <mxi:EventTriggerBehavior EventName="Click">
                                                                    <mxi:EventTriggerBehavior.Actions>
                                                                        <shuxba:ShowTeachingTipAction TeachingTip="{x:Bind RedirectCombineEntryTeachingTip}"/>
                                                                    </mxi:EventTriggerBehavior.Actions>
                                                                </mxi:EventTriggerBehavior>
                                                            </mxi:Interaction.Behaviors>
                                                            <FontIcon
                                                                FontSize="12"
                                                                Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                                                                Glyph="&#xE946;"/>
                                                        </Button>
                                                    </StackPanel>
                                                </ToggleSwitch.Header>
                                            </ToggleSwitch>
                                            <TeachingTip
                                                x:Name="RedirectCombineEntryTeachingTip"
                                                Title="{shuxm:ResourceString Name=ViewPageLaunchGameIslandRedirectCombineEntryHeader}"
                                                Grid.Row="3"
                                                Grid.Column="1"
                                                IsLightDismissEnabled="True"
                                                Subtitle="{shuxm:ResourceString Name=ViewPageLaunchGameIslandRedirectCombineEntryDescription}"
                                                Target="{x:Bind RedirectCombineEntryToggleSwitch}">
                                                <TeachingTip.HeroContent>
                                                    <Image Source="ms-appx:///Resource/TeachingTip/LaunchGameIslandRedirectCombineEntry.gif"/>
                                                </TeachingTip.HeroContent>
                                            </TeachingTip>
                                            <ToggleSwitch
                                                Grid.Row="3"
                                                Grid.Column="2"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandUsingTouchScreenHeader}"
                                                IsEnabled="{Binding LaunchOptions.IsGameRunning.Value, Converter={StaticResource BoolNegationConverter}}"
                                                IsOn="{Binding LaunchOptions.UsingTouchScreen.Value, Mode=TwoWay}"/>

                                            <ToggleSwitch
                                                Grid.Row="4"
                                                Grid.Column="0"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandResinListItemAllowOriginalResinHeader}"
                                                IsOn="{Binding LaunchOptions.ResinListItemId000106Allowed.Value, Mode=TwoWay}"/>
                                            <ToggleSwitch
                                                Grid.Row="4"
                                                Grid.Column="1"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandResinListItemAllowPrimogemHeader}"
                                                IsOn="{Binding LaunchOptions.ResinListItemId000201Allowed.Value, Mode=TwoWay}"/>
                                            <ToggleSwitch
                                                Grid.Row="4"
                                                Grid.Column="2"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandResinListItemAllowFragileResinHeader}"
                                                IsOn="{Binding LaunchOptions.ResinListItemId107009Allowed.Value, Mode=TwoWay}"/>

                                            <ToggleSwitch
                                                Grid.Row="5"
                                                Grid.Column="0"
                                                Header="{shuxm:ResourceString Name=ViewPageLaunchGameIslandResinListItemAllowCondensedResinHeader}"
                                                IsOn="{Binding LaunchOptions.ResinListItemId220007Allowed.Value, Mode=TwoWay}"/>
                                        </Grid>
                                    </Border>
                                </ContentControl>
                            </Grid>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
        </Pivot>
    </shuxc:StandardView>
</shuxc:ScopedPage>